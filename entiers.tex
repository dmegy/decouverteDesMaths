
\section{L'ensemble $\N$ et la récurrence (VIDE)}

\section{Ensembles finis(EN COURS)}

\subsection{Ensembles $\llbracket a,b\rrbracket$}

Si $a, b\in \Z$, on note $\llbracket a,b\rrbracket$ l'ensemble $\{n\in \Z\:\mid\: a\leq n \leq b\}$. Si $b<a$, cet ensemble est vide.

\begin{lemme} Soient $m\geq 1$ et $a\in \llbracket 1,m\rrbracket$. L'application 
\[
\phi : \llbracket 1,m\rrbracket \setminus \{a\} \to \llbracket 1,m-1\rrbracket, 
x\mapsto \begin{cases}x & \text{ si }x<a\\x-1 & \text{ si }x>a\end{cases}
\]
est une bijection
\end{lemme}
\begin{proof} Exercice. Remarquer que si $m=1$, on obtient juste une bijection entre l'ensemble vide et lui-même.
\end{proof}


Les deux lemmes suivants établissent des résultats qui semblent \og évident\fg{} mais qui doivent être démontrés rigoureusement afin d'asseoir la définition de cardinal sur des bases solides.

\begin{lemme}
Soient $m,n\in \N$.
S'il existe une injection de $\llbracket 1,m\rrbracket$ dans $\llbracket 1,n\rrbracket$, alors $m\leq n$.
\end{lemme}
\begin{proof}
Pour $m$ entier, notons $A(m)$ l'assertion 
\begin{center}
$\forall n\in \N, \quad  (\text{il existe une injection } \llbracket 1,m\rrbracket \to \llbracket 1,n\rrbracket) \implies m\leq n$.
\end{center}
Montrons $\forall m, A(m)$ par récurrence, ce qui prouve la proposition.\\
\textbf{Initialisation.} $A(0)$ est vraie car pour tout $n$, $0\leq n$ est vraie donc l'implication dans $A(0)$ est vraie.\\
\textbf{Hérédité.} Soit $m\in\N$ et supposons $A(m)$. Montrons $A(m+1)$.

Soit $n\in \N$ et soit $f : \llbracket 1,m+1\rrbracket \to \llbracket 1,n\rrbracket$ une injection. Alors la restriction $f|_{\llbracket 1,m\rrbracket} : \llbracket 1,m\rrbracket \to \llbracket 1,n\rrbracket\setminus \{f(m+1)\}$ est également injective.

En composant avec une bijection $\phi : \llbracket 1,n\rrbracket\setminus \{f(m+1)\} \to \llbracket 1,n-1\rrbracket$ (par exemple celle fournie par le lemme), on obtient une injection $\phi\circ f|_{\llbracket 1,m\rrbracket} : \llbracket 1,m\rrbracket \to \llbracket 1,n-1\rrbracket$.

Par hypothèse de récurrence, on a donc $m\leq n-1$, et donc $m+1\leq n$, donc $A(m+1)$ est vraie.
\end{proof}

\begin{lemme}
Soient $m, n\in \N$. S'il existe une bijection entre $\llbracket 1,m\rrbracket$ et $\llbracket 1,n\rrbracket$, on a  $m=n$
\end{lemme}
\begin{proof}
Soit $f$ une telle bijection. Comme elle est injective, on a $m\leq n$.

Considérons alors la bijection réciproque $f^{-1} : \llbracket 1,n\rrbracket \to \llbracket 1,m\rrbracket$. Comme elle est également  injective, on a $n\leq m$. D'où $m=n$.
\end{proof}

\subsection{Ensembles finis et cardinal}

\begin{definition}
Un ensemble $E$ est \emph{fini} s'il existe $n\in \N$ et une injection de $E$ dans $\llbracket 1,n\rrbracket$. Un ensemble qui n'est pas fini est \emph{infini}.
\end{definition}

\begin{remarque}
\begin{enumerate}[label=\alph*)]
\item On en déduit immédiatement qu'un ensemble qui s'injecte dans un ensemble fini est lui-même fini (la composée de deux injections est une injection).
\item À priori, l'entier $n$ de la définition n'est pas unique, car si $n$ convient, alors $n+1$ aussi.
\item [Zérologie] L'ensemble vide est fini : il existe une (unique) application de l'ensemble dans tout ensemble $F$, c'est celle dont le graphe est la partie vide de $\varnothing\times F$ (cette partie vérifie bien les conditions pour être un graphe de fonction). On l'appelle \og l'application vide\fg.
On vérifie ensuite que cette application est injective (en appliquant la définition).
\end{enumerate}
\end{remarque}


\begin{propdef}
Soit $E$ un ensemble fini. Alors, il existe un unique $n\in \N$ tel que $E$ soit en bijection avec $\llbracket 1,n\rrbracket$.

Cet entier $n$ est appelé le \emph{cardinal} de $E$. Il est noté $\Card(A)$, ou $|A|$ ou $\sharp A$.
\end{propdef}
\begin{proof}
L'unicité découle des lemmes précédents.

Pour l'existence, Soit $n\in \N$ et soit $f : E\to \llbracket 1,n\rrbracket$ une injection.
Si $f(E) = \llbracket 1,n\rrbracket$, l'application est surjective donc bijective.
Sinon, il existe $a\in \llbracket 1,n\rrbracket \setminus f(E)$, donc en composant $f$ avec une injection $\phi \llbracket 1,n\rrbracket \setminus \{a\} \to \llbracket 1,n-1\rrbracket$, on obtient une injection $\phi\circ f : E \to \llbracket 1,n-1\rrbracket$.
On itère ce processus tant que l'application n'est pas bijective, ce qui finit par se produire puisque l'ensemble d'arrivée des injections diminue strictement à chaque étape.
\end{proof}




\begin{proposition}
\begin{enumerate}
\item Un ensemble en bijection avec un ensemble fini de cardinal $n$ est également fini de cardinal $n$.
\item L'ensemble vide est fini de cardinal zéro. Réciproquement, un ensemble fini de cardinal zéro est vide.
\end{enumerate}
\end{proposition}
\begin{proof}
\begin{enumerate}
\item Soit $f:A\to B$ une bijection. Si $B$ est fini de cardinal $n$, alors il existe une bijection $\phi : B\to \llbracket 1,n\rrbracket$, et donc  $\phi\circ f : A\to \llbracket 1,n\rrbracket$ est une bijection.
\item On a déjà vu qu'il existe une (unique) application entre $\varnothing$ et $\llbracket 1,0\rrbracket=\varnothing$ et qu'elle est injective. On peut vérifier qu'elle est surjective, toujours en appliquant la définition. Réciproquement, un ensemble de cardinal zéro est par définition en bijection avec $\llbracket 1,0\rrbracket = \varnothing$, donc est vide.
\end{enumerate}
\end{proof}

\begin{proposition}
\begin{enumerate}
\item Si $A$ et $B$ sont disjoints et finis, alors $A\cup B$ est fini et $|A\cup B|=|A|+|B|$.
\item  Si $A$ est fini et $B \subseteq A$, alors $B$ est fini et $|B| \leq |A|$.
\item Si de plus $|B| = |A|$, alors $B=A$.
\item Si $A$ et $B$ sont finis, alors $|A\cup B| = |A| + |B| - |A\cap B|$.
\end{enumerate}
\end{proposition}

\begin{proof}
\begin{enumerate}
\item Soient $n$ et $m$ des entiers et $f : A\to \llbracket 1,m\rrbracket$, $g : B\to \llbracket 1,n\rrbracket$ des bijections. L'application 
\[
\phi : A\cup B \to \llbracket 1,m+n\rrbracket, \quad x\mapsto
\begin{cases}
f(x) & \text{ si }x\in A\\
m+g(x) & \text{ si }x\in B
\end{cases}
\]
est bien définie, et c'est une bijection de $A\cup B$ dans $\llbracket 1,m+n\rrbracket$.
\item Si $A$ est fini, alors $B$ s'injecte dans un ensemble fini donc est fini. De même, la partie $A\setminus B$ de $A$ est également finie. On peut alors écrire $A$ comme l'union disjointe d'ensembles finis $A=B \cup (A\setminus B)$ et par ce qui précède, on a $|A|=|B|+|A\setminus B|$. On en déduit que $|B|\leq A$ et que s'il y a égalité, $A\setminus B$ est de cardinal $0$, donc vide, d'où $A=B$.
\item On a l'union disjointe $A = A\cup (B\setminus A)$  donc $|A\cup B| = |A|+|B\setminus A|$.
D'autre part, on a l'union disjointe $B = (B\cap A) \cup (B\setminus A)$, donc $|B| = |B\cap A|+|B\setminus A|$.
En remplaçant $|B\setminus A|$ par $|B|-|B\cap A|$ dans la première égalité, on obtient le résultat.
\end{enumerate}
\end{proof}

\subsection{Applications et ensembles finis}

\begin{proposition}
Soit $A$ un ensemble fini et $f:A\to B$. 
Si $f$ est injective, alors $|f(A)|=|A|$.
\end{proposition}
\begin{proof}
Sans hypothèses sur $A$, définissons $g : A\to f(A)$ l'application déduite de $f$ en remplaçant le codomaine $B$ par l'image de $A$ (note : cette application s'appelle la \emph{corestriction} de $f$ à $f(A)$). Cette application $g$ est surjective par construction.

D'autre part si $f$ est injective, $g$ l'est également. On en déduit que $A$ et $f(A)$ sont en bijection. Si $A$ est fini, ils ont donc le même cardinal.
\end{proof}

\begin{proposition}
Soit $f : A\to B$ une application.
\begin{enumerate}
\item Si $B$ est fini et $f$ est injective, alors $A$ est fini et $|A|\leq |B|$.
\item Si $A$ est fini et $f$ est surjective, alors $B$ est fini et $|A|\geq |B|$.
\end{enumerate}
\end{proposition}
\begin{proof}
\begin{enumerate}
\item Si $B$ est fini, alors $A$ s'injecte dans un ensemble fini donc est fini. De plus, on a $|A|=|f(A)|\leq |B|$.
\item Soit $g:B\to A$ une \emph{section} de $f$, c'est-à-dire une application  qui à $y\in B$ associe une préimage quelconque de $y$. Par construction, on a $f\circ g=\Id_{B}$ donc $g$ est injective, et par le premier point $B$ est fini et $|B| \leq |A|$.
\end{enumerate}
\end{proof}

\begin{theoreme}[IMPORTANT]
Soient $A$ et $B$ finis \textbf{de même cardinal}, et soit $f : A\to B$. Alors, on a les équivalences suivantes:
\begin{center}
$f$ est injective $\iff$ $f$ est surjective $\iff$ $f$ est  bijective.
\end{center}
\end{theoreme}
\begin{proof}
Il suffit de prouver la première équivalence.

Sens $\implies$ : Si $f$ est injective, on a $|f(A)|=|A|=|B|$, et comme $f(A)\subseteq B$, l'égalité des cardinaux force $f(A)=B$ c'est-à-dire que $f$ est surjective.

Sens $\impliedby$, par contraposée : Si $f$ n'est pas injective, soient $x$ et $y$ distincts tels que $f(x)=f(y)$. Alors $f(A) = f(A\setminus \{y\})$, donc 
\[
|f(A)| \leq |A\setminus \{y\}| = |A|-1 = |B|-1,
\]
donc $f(A) \neq B$ et donc $f$ n'est pas surjective.
\end{proof}

Ce théorème est à retenir, il est indispensable dans tous les domaines des mathématiques. En particulier, il est crucial pour la théorie de la dimension des espaces vectoriels, au prochain semestre.

\begin{corollaire}
Soit $f : A\to B$ entre ensembles finis. Alors $f$ est injective si et seulement si $|f(A)|=|A|$.
\end{corollaire}
\begin{proof}On a déjà prouvé le sens \og seulement si\fg.

Si $|f(A)|=|A|$, alors la corestriction $g : A\to f(A), x\mapsto f(x)$ qui est par définition surjective, est également injective par le précédent théorème. Donc $f$ est injective.
\end{proof}



\subsection{Remarque sur les définitions équivalentes}

Il existe d'autres définitions (équivalentes) d'ensemble fini et de cardinal.
Par exemple, on aurait pu donner comme définition  : un ensemble $E$ est fini s'il existe $n\in \N$ et une surjection de $\llbracket 1,n\rrbracket$ dans $E$.

Dans ce cas, on aurait commencé par prouver le lemme suivant : \og s'il existe une surjection de $\llbracket 1,m\rrbracket$ dans $\llbracket 1,n\rrbracket$, alors $m\geq n$\fg, et l'ordre des résultats établis, ainsi que les preuves, auraient été différents.

\begin{exercice} \'Etablir tous les résultats du cours en prenant  cette définition pour base, au lieu de celle avec les injections.
\end{exercice}

\section{Sommes et produits (VIDE)}



\section{Combinatoire (VIDE)}
\subsection{Principes élémentaires de combinatoire}
\subsection{Coefficients binomiaux}
