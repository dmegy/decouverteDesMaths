
Attention, la présentation qui suit diffère sans doute beaucoup de celle vue en terminale : il faut faire l'effort de l'étudier en détail même si l'ordre dans lequel les notions sont introduites semble \og mauvais\fg : en fait, c'est le \og bon\fg{}  ordre.

Le cours d'arithmétique des polynômes suivra le même canevas (définitions semblables, mêmes lemmes aux mêmes endroits, mêmes preuves), de même que le cours d'algèbre générale sur les anneaux par la suite.

\section{Préliminaires}

\subsection{Division euclidienne}
\begin{proposition}[Division euclidienne]
Soit $a\in \N$ et $b\in \N^*$. Il existe un unique couple $(b,r) \in \N^2$ vérifiant les deux propriétés suivantes:
\begin{enumerate}
\item $a=bq+r$;
\item $r < b$.
\end{enumerate}
L'entier $b$ est le \emph{quotient} de la division euclidienne de $a$ par $b$, et $r$ est le \emph{reste}.
Effectuer la division euclidienne de $a$ par $b$, c'est écrire $a = bq+r$ avec $b$ et $q$ comme plus haut.
\end{proposition}

\begin{exemple}
$17=5\times 3 + 2$ est la division euclidienne de $17$ par $5$. Le quotient est $3$ et il reste $2$. Par contre, l'écriture $17=5\times 2+7$ bien que correcte  n'est pas une division euclidienne, car dans une division euclidienne, le reste \emph{doit} être strictement inférieur à $5$.
\end{exemple}

\subsection{Idéaux de $\Z$}

\begin{definition}[Ensembles $\alpha\Z$ et générateur principal]

Soit $\alpha$ un entier relatif.
\begin{enumerate}
\item On note $\alpha\Z$ l'ensemble $\{ \alpha k\:\mid\: k\in \Z\} = \{..., -2\alpha, -\alpha, 0, \alpha, 2\alpha, 3\alpha, ...\}$. C'est l'ensemble des multiples de $\alpha$. Les ensembles $\alpha\Z$ et $(-\alpha)\Z$ sont identiques.
\item Le \emph{générateur principal} de $\alpha\Z$ est $|\alpha|$.
\end{enumerate}
\end{definition}

\begin{exemple}
$3\Z = \{...,-6,-3,0,3,6,9,12,...\}$. Si $\alpha=0$, alors $\alpha\Z = \{0\}$. On a $\alpha\Z = \Z$ ssi $\alpha$ est égal à $1$ ou $-1$. Plus généralement, on a $a\Z=b\Z$ ssi $a=b$ ou $a=-b$.
\end{exemple}


\begin{definition}
Un sous-groupe de $\Z$ est une partie $G \subseteq \Z$ vérifiant les trois propriétés suivantes : 
\begin{enumerate}
\item $G$ contient $0$.
\item $G$ est stable par somme :$\forall x, y\in G, \: x+y \in G$.
\item $G$ est stable par opposé :$\forall x\in G, \: -x \in G$.
\end{enumerate}
\end{definition}

Un ensemble de la forme $\alpha\Z$ est un sous-groupe de $\Z$ (exercice). La proposition qui suit affirme que la réciproque est vraie.

\begin{proposition}
Soit $G\subseteq \Z$ un sous-groupe de $\Z$. Alors, il existe $\alpha \in \Z$ tel que $G = \alpha\Z$. 
\end{proposition}


\begin{proof}
Soit $G \subseteq \Z$ un sous-groupe de $\Z$. Soit $G^*_+ = G \cap \N^*$. Il y a deux cas:
\begin{enumerate}
\item Si $G^*_+$ est vide, cela signifie que $G$ ne possède aucun élément strictement positif. Comme $G$ est stable par opposé, il ne peut pas non plus contenir d'éléments strictement négatifs. Cela signifie que $G=\{0\} = 0\Z$.
\item Sinon, c'est une partie non vide de $\N$, qui possède donc un plus petit élément, notons-le $\alpha$.
Par définition, $G$ est stable par somme et opposé, donc $2\alpha\in G$ et $-\alpha \in G$ et plus généralement, pour tout $k\in \Z$, on a $k\alpha \in G$.
Donc $\alpha\Z \subseteq G$. Montrons l'inclusion inverse.
Soit $x\in G$, positif. \'Ecrivons la division euclidienne de $x$ par $\alpha$. On a $x = \alpha q + r$, avec $r<\alpha$. Comme $G$ est stable par somme et différence et que $\alpha q \in G$, on en déduit que $r = x-\alpha q$ est également dans $G$. Or, $r<\alpha$, donc par minimalité de $\alpha$, $r=0$, ce qui montre que $x = \alpha q$, donc que $x\in \alpha\Z$.
Si $x$ est négatif, ce qui précède montre que $-x\in \alpha\Z$, donc que $x\in \alpha\Z$.
\end{enumerate}
\end{proof}

\begin{proposition} Un sous-groupe $G$ de $\Z$ est automatiquement \emph{absorbant pour la multiplication}, c'est-à-dire:
\[ \forall g\in G, \forall n\in \Z, ng \in G.\]
\end{proposition}

Pour cette raison et d'autres qui deviendront claires dans un futur cours d'algèbre, on utilise la dénomination \og idéal de $\Z$\fg{} au lieu de \og sous-groupe de $\Z$\fg{}. Les deux terminologies sont parfaitement équivalentes, dire \emph{idéal} sert à rappeler la propriété supplémentaire d'être absorbant par multiplication.

\section{Pgcd}

\begin{proposition}
Soient $a$ et $b$ deux entiers. Alors:
\begin{enumerate}
\item L'ensemble $\{ak+bl\:\mid\: k, l\in \Z\}$ noté par définition $a\Z+b\Z$, est un idéal de $\Z$.
\item C'est le plus petit idéal de $\Z$ contenant $a$ et $b$. % utile pour les preuves
\item Il contient $a\Z$ et $b\Z$, donc également $a\Z\cup b\Z$, mais il est en général strictement plus grand que $a\Z\cup b\Z$.
\end{enumerate}
\end{proposition}
\begin{proof}
\begin{enumerate}
\item Il suffit de vérifier que c'est un sous-groupe de $\Z$.
\item Si un idéal $I$ de $\Z$ contient $a$ et $b$, comme il est stable par somme et opposé, il contient $-a$, $-b$, $a+(-a)=0$, $a+a=2a$, $a+b$ et plus généralement tous les $ka+lb$ pour $k,l\in\Z$. Donc $I$ contient $a\Z+b\Z$.
\item Il est clair que $a\Z+b\Z=\{ka+bl\:\mid\: k,l\in Z\}$ contient $\{ka\:\mid\: k\in Z\} = a\Z$ (prendre $l=0$) ainsi que $b\Z$, et donc contient l'union $a\Z\cup b\Z$. Pour voir que l'inclusion peut être stricte, prenons $a=4$ et $b=6$. On a $4\Z\cup 6\Z = \{ ..., -6,-4,0,4,6,8,12,16,18,20,24,28, ...\}$. Cet ensemble ne contient pas $2$, alors que $2=6-4\in 4\Z+6\Z$.
\end{enumerate}
\end{proof}


\begin{definition}
Soient $a$ et $b$ des entiers. Le générateur principal de $a\Z+b\Z$ est appelé le \emph{pgcd} (pour \emph{plus grand commun diviseur}) de $a$ et $b$, il est noté $\pgcd(a,b)$.
\end{definition}

\begin{remarque}
À ce stade, le nom de \emph{plus grand commun diviseur} est juste une notation. Les deux propositions qui suivent montrent que le pgcd est effectivement un diviseur commun, et que c'est le plus petit tel diviseur positif, en un sens précis.
\end{remarque}

\begin{proposition}
Soient $a$ et $b$ des entiers, et $d=\pgcd(a,b)$.
On a les propriétés suivantes
\begin{enumerate}
\item L'entier $a$ est dans $a\Z+b\Z$, donc $d$ divise $a$. De même, $d$ divise $b$. C'est donc un \emph{diviseur commun} de $a$ et $b$, ce qui commence à justifier son nom.
\item L'entier $d$ est dans $d\Z$, donc il existe $k$ et $l$ dans $\Z$, tels que $d = ak+bl$. On dit que $(k,l)$ est un couple (ou paire, par abus de langage) de Bézout pour $a$ et $b$. L'égalité $d=ak+bl$ est appelée \emph{relation de Bézout}.
\item Si $m$ est un diviseur commun de $a$ et $b$ et que $ak+bl=d$ est une relation de Bézout, alors on voit que $m$ divise $ak+bl$ donc $m$ divise $d$. C'est en ce sens que $d$ est le \emph{plus grand} diviseur commun.
\item Si $d=0$, alors $a=b=0$. En effet, si $d=0$ alors $\{0\}=a\Z+b\Z\supseteq a\Z$, d'où $a=0$ et de même $b=0$.
\item On a $\pgcd(a,b)=\pgcd(b,a) = \pgcd(a,-b)$, car $a\Z+b\Z = b\Z+a\Z=a\Z+(-b)\Z$.
\item $\pgcd(a,0)=|a|$, car $a\Z+0\Z = a\Z$.
\item $\pgcd(a,1)=1$, car $a\Z+\Z = \Z$.
\end{enumerate}
\end{proposition}

\begin{proposition}
Si $x>0$, $x|a$ et $x|b$, et $\forall m, m|a \text{ et } m|b \implies m|x$, alors $x=d$.
\end{proposition}
\begin{proof}
Si $x|a$ et $x|b$, alors $x|d$. D'autre part, $d|a$ et $d|a$, donc $d|x$. Donc finalement, $d=x$.
Attention, la condition $x>0$ est indispensable pour ce raisonnement. Deux entiers relatifs peuvent se diviser l'un l'autre, comme $1$ et $-1$, sans être égaux.
\end{proof}

\begin{proposition}
Soit $k>0$. On a $\pgcd(ka,kb)=k\pgcd(a,b)$.
\end{proposition}
\begin{proof}
Notons provisoirement $d_1 = \pgcd(a,b)$ et $d_2 = \pgcd(ka,kb)$.

Comme $d_1|a$ et $d_1|b$, on a $kd_1|ka$ et $kd_1|kb$ donc finalement $kd_1|d_2$. En  particulier, $k|d_2$ donc $\frac{d_2}{k}$ est un entier.

D'autre part, $d_2|ka$ et $d_2|kb$, donc  en divisant par $k$ et en utilisant la remarque précédente, on a $\frac{d_2}{k} | a$ et $\frac{d_2}{k} | b$ donc $\frac{d_2}{k} | d_1$, d'où $d_2 | kd_1$. 

Comme $kd_1$ et $d_2$ sont positifs, on en déduit $d_2=kd_1$.
\end{proof}

\subsection{Algorithme d'Euclide}

\begin{lemme}[d'Euclide]
Soient $a$, $b$ et $k$ des entiers relatifs. Alors:
\[ \pgcd(a,b) = \pgcd(a+kb,b).\]
\end{lemme}

\begin{proof}
Ils y a au moins deux façons de prouver le résultat : on peut montrer que les idéaux $a\Z+b\Z$ et $(a+kb)\Z+b\Z$ sont les mêmes, ce qui implique qu'ils ont le même générateur principal, ou alors on peut montrer que $(a,b)$ et $(a+kb,b)$ ont les mêmes diviseurs communs, donc le même plus grand diviseur commun.\\
\underline{Première preuve (mêmes idéaux)}.
D'une part, $(a+kb)\Z+b\Z \subseteq a\Z+b\Z$ car si $i$ et $j$ sont des entiers, alors $i(a+kb)+jb = ia+(iK+j)b \in a\Z+b\Z$.
D'autre part, $a\Z+b\Z \subseteq (a+kb)\Z+b\Z$ car si $i$ et $j$ sont des entiers, alors $ia+jb = i(a+kb) +(j-ik)b \in (a+kb)\Z+b\Z$.
Finalement, les idéaux $a\Z+b\Z$ et $(a+kb)\Z+b\Z$ sont identiques donc ont le même générateur principal.\\
\underline{Deuxième preuve (mêmes diviseurs)}.
Si $m|a$ et $m|b$, alors $m|a+kb$ et $m|b$.\\
Si $m|a+kb$ et $m|b$, alors $m|a+kb-kb$ et $m|b$, donc $m$ divise $a$ et $b$.\\
On en déduit que les couples $(a,b)$ et $(a+kb,b)$ ont les mêmes diviseurs communs. Ils ont donc le même pgcd.
\end{proof}

\begin{corollaire} En particulier, si $a = bq+r$ (division euclidienne ou pas), alors :
\[ \pgcd(a,b) = \pgcd(b,r).\]
\end{corollaire}

\begin{theoreme}[Algorithme d'Euclide]

Appliquer l'algorithme d'Euclide aux entiers naturels $a$ et $b$, c'est effectuer une suite de divisions euclidiennes:

\begin{align*}
a &= q_1 b + r_1\\
b &= q_2 r_1+r_2\\
r_1 &= q_3 r_2+ r_3\\
\cdots & \\
r_{n-2} &= q_nr_{n-1}+r_n
\end{align*}
en continuant tant que $r_n$ n'est pas nul. Alors, on a les résultats suivants:

\begin{enumerate}
\item (terminaison de l'algorithme) Au bout d'un certain nombre d'étapes, on a $r_n=0$, donc l'algorithme termine en un nombre fini d'étapes.
\item Le dernier reste non nul $r_{n-1}$ est le pgcd de $a$ et $b$.
\end{enumerate}
\end{theoreme}
\begin{proof}

\begin{enumerate}
\item (Preuve de terminaison) Il s'agit de montrer que l'on ne peut pas continuer indéfiniment à faire des divisions euclidiennes. Par définition de ce qu'est une division euclidienne, on a  : $b>r_1$, $r_1>r_2$ et plus généralement $r_i>r_{i+1}$. La suite des restes est une suite strictement décroissante d'entiers positifs, elle ne peut pas être infinie.
\item (Preuve de correction du calcul de pgcd) Par le lemme d'Euclide et son corollaire appliqués à chaque étape, on a 
\[
\pgcd(a,b) = \pgcd(b,r_1)=\pgcd(r_1,r_2) = ... = \pgcd(r_{n-1},r_n) = \pgcd(r_{n-1},0) = r_{n-1}.
\]

\end{enumerate}
\end{proof}

On remarque qu'il n'est pas nécessaire que $a>b$ dans l'algorithme : si ce n'est pas le cas, l'algorithme les replace dans le bon ordre au cours de la première étape.

L'algorithme d'Euclide permet également d'obtenir une relation de Bézout en \og remontant \fg{} les étapes de l'algorithme : 
\[ d = r_{n-1} = r_{n-3} - q_{n-1}r_{n-2} = r_{n-3} - q_{n-1}(r_{n-4} - q_{n-2}r_{n-3})... = au+bv.\]

\subsection{Nombres premiers entre eux, théorème de Gau{\ss}}

\begin{definition}
Deux nombres relatifs $a$ et $b$ sont premiers entre eux si $\pgcd(a,b)=1$. On note :  $a\wedge b = 1$.
\end{definition}

\begin{proposition} Soient $a$ et $b$ des entiers. On a 
\[
a\wedge b = 1 \iff \left(\exists u, v\in \Z\mid au+bv=1\right)
\]
\end{proposition}
\begin{proof}
Sens $\implies$ : il existe une relation de Bézout.\\
Sens $\impliedby$ : si $au+bv=1$, alors  $\pgcd(a,b)$ divise $1$, donc vaut $1$.
\end{proof}

\begin{proposition}
Soient $a$ et $b$ des entiers.
Si $a\wedge b = 1$ et $a\wedge c = 1$, alors $a\wedge bc=1$.
\end{proposition}
\begin{proof}
Si $au+bv=1$ et $au'+cv'=1$ sont des relations de Bézout, on a en multipliant les deux:
\[ 1 = (au+bv)(au'+cv') = a(auu'+bvu'+ucv')+bcvv'.\]
\end{proof}
\begin{corollaire}
Soient $a$, $b$ et $n>0$, $m>0$ des entiers.
Si $a\wedge b = 1$, alors $a^n\wedge b^m=1$.
\end{corollaire}
\begin{proof}
On a $a\wedge b = 1 \implies a\wedge b^2= ... =  a\wedge b^m=1$, puis $b^m\wedge a  1\implies b^m\wedge a^2 = ... = b^m\wedge a^n=1$.
\end{proof}

\textbf{Attention}, ceci n'est \textbf{pas} un résultat de passage au produit avec le symbole $\wedge$ ! Si on a $a\wedge b = 1$ et $c\wedge d = 1$, on n'a \textbf{pas} $ac\wedge bd=1$. Exemple  : $2\wedge 3=1$ et $3\wedge 2=1$ et pourtant $6\wedge 6\neq 1$.

\begin{theoreme}[\og théorème de Gau{\ss}\fg]
Soient $a$, $b$ et $c$ des entiers.
Si $a\wedge b = 1$ et $a|bc$, alors $a|c$.
\end{theoreme}
\begin{proof}
Soit $ak+bl=1$ une relation de Bézout pour $a$ et $b$.
Si $a$ divise $bc$, alors il divise également $blc$. D'autre part, $a$ divise $akc$. Donc $a | (bl+ak)c$ c'est-à-dire $a|c$.
\end{proof}

\subsection{Résolution des équations diophantiennes du type $ax+by=c$}


\begin{definition}
Une équation diophantienne est une équation du type $F(x_1, x_2, ...x_k)=0$, les inconnues $x_1$, ... $x_k$ appartiennent à $\Z$, ou une partie de $\Z$.
\end{definition}

Exemples :\\
$12x+3y=8$, d'inconnues $x$ et $y$ dans $\Z$.\\
$2^n-3^m=7$ d'inconnues $n$ et $m$ dans $\N$.\\
$x^n+y^n=z^n$ d'inconnues $x$, $y$, $z$, $n$ dans $\N$. (C'est l'équation de Fermat; il a été démontré en 1994 après trois siècles d'efforts que l'équation n'admet des solutions que si $n=2$.)

Dans ce cours, on s'intéresse aux équations du type $ax+by=c$ d'inconnues $x$ et $y$ dans $\Z$, et avec $a$, $b$ et $c$ des paramètres entiers. 

Géométriquement, cela revient à trouver les points à coordonnées entières de la droite du plan d'équation cartésienne $ax+by=c$.

La méthode de résolution consiste, comme pour les équations différentielles linéaires, à trouver une solution particulière de l'équation, puis à y ajouter les solutions de l'équation homogène associée, qui est par définition l'équation obtenue en remplaçant le second membre par zéro: $ax+by=0$. C'est le contenu de la proposition suivante:

\begin{proposition}
Soient $a$, $b$ des entiers non tous deux  nuls, $c$ un entier. On considère l'équation $(E) \: : \: ax+by=c$ d'inconnue $(x,y)\in \Z^2$, ainsi que l'équation homogène associée $(E_h) \: : \: ax+by=0$. 

Si $(x_p,y_p)$ est une solution particulière de $(E)$, alors son ensemble de solutions est 
\[
\left\{(x_p,y_p) + (s,t)\:\mid\: (s,t) \text{ solution de } E_h\right\}
\]
\end{proposition}

\begin{proof}
Soit $(x,y)$ un couple d'entiers. 
\begin{align*}
ax+by=c 
&\iff ax+by = ax_p+by_p\\
&\iff a(x-x_p) + b(y-y_p) = c-c=0,
\end{align*}
donc $(x,y)$ est solution de $(E)$ si et seulement si $(x-x_p,y-y_p)$ est solution de l'équation homogène $(E_h)$ associée à $(E)$. On en déduit le résultat.
\end{proof}

Il reste donc à établir un critère pour l'existence de solutions, et à donner une méthode pour trouver des solutions particulières, et pour résoudre les équations homogènes.

\begin{proposition}[Existence de solutions et solution particulière]
Soient $a$, $b$ et $c$ des entiers.
\begin{enumerate}
\item L'équation $(E)\: : \: ax+by=c$ d'inconnue $(x,y)\in \Z^2$ admet des solutions si et seulement si $\pgcd(a,b)|c$.
\item Dans ce cas, en notant $k=c/\pgcd(a,b)$ et $au+bv=\pgcd(a,b)$ une relation de Bézout, une solution particulière est $(ku,kv)$.
\end{enumerate}
\end{proposition}
\begin{preuve}
Montrons d'abord que la condition est nécessaire. S'il existe une solution $(x,y)$, alors $ax+by=c$ et donc tout diviseur commun de $a$ et $b$ divise aussi $ax+by$ et donc $c$. En  particulier $\pgcd(a,b) | c$.

Réciproquement, montrons que la condition est suffisante en prouvant que le couple fourni est bien solution. En multipliant par $k$ la relation de Bézout on obtient $auk+bvk=\pgcd(a,b) k=c$ donc $(uk,vk)$ est bien une solution de $(E)$.
\end{preuve}


\begin{proposition}[Résolution des équations homogènes]
Soient $a$, $b$ des entiers non tous deux  nuls, et notons $d = \pgcd(a,b)$. L'équation $ax+by=0$ d'inconnue $(x,y)\in \Z^2$ a pour ensemble de solutions :
\[
\left\{k\left(\frac{-b}{d} , \frac{a}{d}\right),\: k\in \Z\right\}
\]
\end{proposition}

(Remarque : si $a$ et $b$ sont nuls, alors l'ensemble des solutions est $\Z^2$ tout entier...)

\begin{proof}(de la proposition)
\'Ecrivons $a=da'$ et $b=db'$. L'équation s'écrit donc $da'x+db'y=0$ et en simplifiant par $d$ qui est non nul, on obtient l'équation équivalente $a'x+b'y=0$, avec $a'\wedge b'=1$.

Si un des deux entiers $a$ ou $b$ est nul, le résultat est facile.

Sinon, le théorème de Gau{\ss} donne alors $a'|y$, donc il existe $k\in \Z$ tel que $y = ka'$.  On trouve alors $x=-kb'$ en simplifiant par $a'$.
\end{proof}

\begin{exemple}
L'ensemble des solutions entières de l'équation $2x+6y=0$ est $\{k(3,-1)\:\mid\:k\in\Z\}$.
\end{exemple}



\section{Ppcm}

\begin{proposition}
Soient $a$, $b \in \Z$. L'ensemble $a\Z\cap b\Z$ (qui est par définition l'ensemble des entiers qui sont à la fois multiples de $a$ et multiples de $b$, c'est-à-dire l'ensemble des multiples communs de $a$ et $b$) est un idéal de $\Z$.
\end{proposition}
\begin{proof}
On a déjà vu qu'il suffit de montrer que c'est un sous-groupe de $\Z$, donc que $a\Z\cap b\Z$ contient $0$, est stable par somme et par opposé. 
\begin{enumerate}
\item $0 \in a\Z$ et $0\in b\Z$, donc $0 \in a\Z\cap b\Z$.
\item Soient $x$, $y$ dans $a\Z\cap b\Z$. Comme $x$ et $y$ sont dans $a\Z$, $x+y\in a\Z$ car $a\Z$ est stable par somme. On montre de même que $x+y\in b\Z$. Donc $x+y \in a\Z\cap b\Z$.
\item Soit $x\in a\Z\cap b\Z$. Comme $x\in a\Z$, on a $-x\in a\Z$ car $a\Z$ est stable par opposé. On montre de même que $-x\in b\Z$. Donc $-x \in a\Z\cap b\Z$.
\end{enumerate}

De façon générale et en anticipant sur un futur cours d'algèbre, l'intersection de deux sous-groupes est un sous-groupe.
\end{proof}

\begin{definition}
Soient $a, b\in \Z$. Le générateur principal de l'idéal $a\Z\cap b\Z$ est appelé \emph{plus petit commun multiple} (sous-entendu, le plus petit parmi ceux strictement positifs) et noté $\ppcm(a,b)$.
\end{definition}

\begin{proposition}
Soient $a$, $b \in \Z$. On a :
\begin{enumerate}
\item $\ppcm(a,1)=|a|$.
\item $\ppcm(a,0)=0$.
\item Si $M$ est un multiple de $a$ et de $b$, alors c'est un multiple de $\ppcm(a,b)$.
\end{enumerate}
\end{proposition}

\begin{proposition}
Soient $a$ et $b$ des naturels non nuls. On a :
\[ \pgcd(a,b)\times \ppcm(a,b) = ab.\]
\end{proposition}
\begin{proof}
\begin{itemize}
\item Premier cas : $a\wedge b = 1$. Soit $m = \ppcm(a,b)$. Alors $a$ divise $m$ donc on peut écrire $m = ka$. D'autre part $b$ divise $m$, donc $b$ divise $ka$, par le théorème de Gauss, comme $b$ est premier avec $a$, on en déduit que $b$ divise $k$. Donc $ab|m$. D'autre part, $ab$ est un multiple commun de $a$ et de $b$, donc $m|ab$. Finalement, $m = ab$.
\item Deuxième cas  : $d=\pgcd(a,b) \geq 1$. \'Ecrivons $a = da'$ et $b = db'$. On a donc $a'\wedge b'=1$. Donc $\ppcm(a',b')=a'b'$, puis $\ppcm(da',db') = da'b' = ab/d$.
\end{itemize}
\end{proof}



\section{Nombres premiers}

\subsection{Définition}

\begin{definition}
Un entier naturel $p$ est dit \emph{premier} s'il possède exactement deux diviseurs positifs distincts : $1$ et $p$.
En particulier, un nombre premier est toujours $\geq 2$.

\end{definition}
% anecdote : voir la page nLab "too simple to be simple"


 Le nombre $1$ n'est pas premier. Les nombres premiers sont $2$, $3$, $5$, $7$, $11$, $13$, $17$, $19$, $23$ etc.
 
\begin{proposition} Soit $p$ un nombre premier et $a\in \Z$. Alors $a\wedge p = 1$  ou $p|a$.
\end{proposition}
\begin{proof}
On a $\pgcd(a,p)|p$ donc $\pgcd(a,p)$ vaut $1$ ou $p$.
\end{proof}


\begin{definition}
Un entier naturel $n\geq 2$ qui n'est pas premier est dit \emph{composé}. Cela revient à :
\[
\exists a, b \in \llbracket 2,n-1 \rrbracket \:\mid\: n=ab.
\]
\end{definition}

\begin{proposition}[Test de primalité]
Un entier $n$ est premier si $\forall a \leq \sqrt n$ entier, $a$ ne divise pas $n$.
\end{proposition}
\begin{proof}
Si $n$ est composé, alors $n=ab$ avec $a, b \in \llbracket 2,n-1 \rrbracket$, donc au moins un des deux entiers $a$ ou $b$ est $\leq\sqrt n$ (sinon on aurait $n=ab > \sqrt{n}^2=n$, absurde). L'autre sens de l'équivalence est évident.
\end{proof}



\subsection{Décomposition en produit de nombres premiers}
Soit $\mathcal P$ l'ensemble des nombres premiers.

\begin{proposition}
\[
\forall n\geq 1, \: \exists !  (\alpha_p)_{p\in \mathcal P}, \: n : \prod_{p\in \mathcal P} p^{\alpha_p}.
\]
En fait, seul un nombre fini des $\alpha_p$ sont non nuls.
\end{proposition}
\begin{proof}
On montre l'existence par récurrence forte sur $n$. Pour $n\geq 1$, notons $A(n)$ l'assertion  $\exists  (\alpha_p)_{p\in \mathcal P}, \: n = \prod_{p\in \mathcal P} p^{\alpha_p}$.\\

\textbf{Initialisation.} Pour $n=1$, la suite nulle $\alpha_p = 0$ (pour tout $p$) convient.\\

\textbf{Hérédité sous hypothèse de récurrence forte.} Soit $n\geq 1$, et supposons $A(k)$ vraie pour tout $k\leq n$. Montrons $A(k+1)$. Si $n+1$ est premier, alors la suite $\alpha_{n+1}=1$ et $\alpha_i=0$ pour $i\neq n+1$ convient. Si $n+1$ est composé, écrivons $n=bc$ avec $b,c\leq n$. Par hypothèse de récurrence appliquée à $b$ et $c$, on peut écrire $b=\prod_{p\in \mathcal P} p^{\beta_p}$ et $c=\prod_{p\in \mathcal P} p^{\gamma_p}$. On a donc 
\[ bc = \prod_{p\in \mathcal P} p^{\beta_p} \cdot \prod_{p\in \mathcal P} p^{\gamma_p}
= \prod_{p\in \mathcal P} p^{\beta_p+\gamma_p}\] et la suite $\alpha_p = \beta_p+\gamma_p$ convient.

L'unicité de la décomposition est laissée en exercice.
\end{proof}

\begin{definition}[Valuation $p$-adique]
Soit $n$ un entier et $p$ un nombre premier. On appelle \emph{valuation $p$-adique de $n$} et on note $v_p(n)$ l'exposant de $p$ dans la décomposition de $n$ en facteurs premiers. On peut donc écrire 
\[ n = \prod_{p\in \mathcal P} p^{v_p(n)}.\]
\end{definition}

Exemples : $v_2(16)=4$, $v_3(17)=0$, $v_2(18)=1$.

\begin{proposition}[Propriétés fondamentales de la valuation $p$-adique]
\[ v_p(n)\geq 1 \iff p|n.\]
\[ v_p(nm) = v_p(n)+v_p(m).\]
\end{proposition}

\begin{proposition}[Critère de divisibilité en termes de valuations $p$-adiques]
\[ 
n|m \iff \left(\forall p\in \mathcal P, \: v_p(n)\leq v_p(m)\right)
\]
\end{proposition}
\begin{proof}
Si $m = kn$, alors pour tout $p\in \mathcal P$, $v_p(m) = v_p(k)+v_p(n) \geq v_p(n)$.

Réciproquement, on a 
\[ 
m
= \prod_{p\in\mathcal P}p^{v_p(m)}
= \prod_{p\in\mathcal P}p^{v_p(n)} \cdot \prod_{p\in\mathcal P}p^{v_p(m)-v_p(n)}
\]
donc $n|m$.
\end{proof}

\begin{corollaire}[pgcd et ppcm en termes de valuations $p$-adiques]
\[
\pgcd(n,m) = \prod_{p\in\mathcal P}p^{\min(v_p(n),v_p(m))},
\]
\[
\ppcm(n,m) = \prod_{p\in\mathcal P}p^{\max(v_p(n),v_p(m))}.
\]
\end{corollaire}
\begin{proof}
Notons $d=\pgcd(n,m)$ et $a = \prod_{p\in\mathcal P}p^{\min(v_p(n),v_p(m))}$.

Pour tout $p\in \mathcal P$, on a $v_p(a) \leq v_p(n)$ donc $a|n$. De même, $a|m$. Donc $a$ est un diviseur commun de $m$ et $n$, et il divise donc leur pgcd : $a|d$.

D'autre part, soit $\in \mathcal P$. On a $d|m$ donc $v_p(d)\leq v_p(m)$, et de même, $d|n$ donc $v_p(d)\leq v_p(n)$. On en déduit que $v_p(d) \leq \min(v_p(n),v_p(m)) = v_p(a)$. Comme ceci vaut pour tout $p\in \mathcal P$, on a $d|a$.

Finalement on a $a|d$ et $d|a$, donc \fbox{$d=a$}.

Le résultat sur le ppcm se démontre de la même manière.
\end{proof}

\begin{exemple}
$\pgcd(120,252)=\pgcd(2^3\cdot 3\cdot 5,2^2\cdot 3^2\cdot 7) =2^2\cdot 3=12$. Pour les nombres faciles à factoriser, c'est toujours comme cela que l'on procède, l'algorithme d'Euclide est à réserver aux cas difficiles, ou aux calculs de relations de Bézout.
\end{exemple}


\subsection{Infinitude des nombres premiers}

\begin{proposition}
L'ensemble $\mathcal P$ des nombres premiers est infini.
\end{proposition}
\begin{proof}
Supposons par l'absurde qu'il soit fini, et soir $M$ son plus grand élément. Pour tout $k\leq M$, $k$ divise $M!$, donc le reste par la division euclidienne de $M!+1$ par $k$ est $1$. On en déduit que $k$ ne divise pas $M!+1$. En particulier, aucun nombre premier ne divise $M!+1$, qui ne possède donc pas de décomposition en facteurs premiers, absurde.
\end{proof}


%\section{Compléments (ne sera pas traité en 2017-2018)}
%\subsection{Petit théorème de Fermat}
%\subsection{Théorème chinois}
%\subsection{Indicatrice d'Euler}
