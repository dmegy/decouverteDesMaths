\section{Relations binaires}

\begin{definition} Soit $E$ un ensemble. Une \emph{relation binaire} ${\mathcal R}$ sur $E$ est une application de $E\times E$ dans $\{\text{vrai, faux}\}$.
\end{definition}

Une relation ${\mathcal R}$ est caractérisée par la partie de $E\times E$ constituée des couples $(x,y)$ tels que ${\mathcal R}(x,y)=\text{vrai}$. On notera \og$x{\mathcal R}y$\fg{} au lieu de \og${\mathcal R}(x,y)=\text{vrai}$\fg{} et \og$x\not \hspace{-.1cm}{\mathcal R} y$\fg{} au lieu de \og${\mathcal R}(x,y)=\text{faux}$\fg{}

\begin{exemples} Les symboles $\leq$, $<$, $\geq$, $>$, $|$ (divise), $//$ (parallèle à), $\perp$ (perpendiculaire à), $\subseteq$ (inclus dans) désignent des relations binaires entre ensembles.
\end{exemples}

\section{Relations d'ordre}

\subsection{Définitions et vocabulaire}

\begin{definition}
Soit $E$ un ensemble. Une relation binaire ${\mathcal R}$ sur $E$ est
\begin{enumerate}
\item réflexive ssi $\forall x\in E, x{\mathcal R}x$;
\item transitive ssi $\forall x, y, z\in E, x\mathcal Ry \text{ et } y{\mathcal R}z \implies x{\mathcal R}z$;
\item antisymétrique ssi $\forall x, y \in E, x{\mathcal R}y\text{ et } y{\mathcal R}x \implies x=y$.
\end{enumerate}

Une relation est une \emph{relation d'ordre} ssi elle est réflexive, transitive et antisymétrique.
\end{definition}

\begin{exemples}
La relation $\leq$ est une relation d'ordre sur $\N$, ou sur $\Z$, $\Q$, $\R$. (Mais pas sur $\C$ : la relation $\leq$ n'est même pas \emph{définie} sur $\C$.)
La relation $\subseteq$ est une relation d'ordre sur $\mathcal P(E)$.
La relation $|$ (\og divise\fg) est une relation d'ordre sur $\N^*$
\end{exemples}

Attention : $<$ n'est pas une relation d'ordre sur $\R$ (ni sur $\N$, $\Z$ ou $\Q$), car elle n'est pas réflexive, et la relation de divisibilité $|$ n'est pas une relation d'ordre sur $\Z^*$, car elle n'est pas antisymétrique : $1|-1$ et $-1|1$ et pourtant $1\neq -1$.

\begin{definition}
Si ${\mathcal R}$ est une relation d'ordre sur $E$, on peut lui associer une relation \emph{d'ordre strict}, définie par \og$ x{\mathcal R}y\text{ et }x\neq y$\fg. (Remarque : une relation d'ordre strict n'est pas une relation d'ordre puisqu'elle n'est pas réflexive.)
\end{definition}

Un ensemble $E$ muni d'une relation d'ordre ${\mathcal R}$ est appelé ensemble ordonné. Par exemple, $(\R, \leq)$ est un ensemble ordonné. S'il n'y a pas de confusion possible sur la relation d'ordre, on peut simplement dire que $E$ est ordonné. (Cependant, il y a en général plusieurs relations d'ordre sur un ensemble.)

Dans ce cours, on notera en général $\leq_E$ au lieu de ${\mathcal R}$ une relation d'ordre sur $E$ (même si la relation n'a rien à voir avec l'inégalité $\leq$ sur $\R$), afin de distinguer les relations d'ordre des relations binaires générales.

Si $\leq_E$ est une relation d'ordre sur $E$, on notera $<_E$ la relation d'\emph{ordre strict} qui lui est associée.

% exos de base de vérification de définitions.

\begin{definition}
Une relation d'ordre $\leq_E$ sur un ensemble $E$ est \emph{totale} si tous les éléments sont comparables, c'est-à-dire si:
\[ \forall x, y\in E, x\leq_Ey\text{ ou } y\leq_E x.\]
Un ensemble muni d'un ordre total est appelé \emph{ensemble totalement ordonné}. Une relation d'ordre qui n'est pas totale est dite d'ordre \emph{partiel}.
\end{definition}

\begin{exemples}
La relation d'ordre $\leq$ sur $\R$ (ou $\N$, $\Q$ ou  $\Z$) est totale. Par contre, $\subseteq$ et $|$ ne sont pas totales. Par exemple, dans $\mathcal P(\R)$, les parties $\R_+$ et $]-3,6]$ ne sont pas comparables pour l'inclusion. Dans $\N^*$, les éléments $2$ et $3$ ne sont pas comparables pour la divisibilité.
\end{exemples}

\subsection{Applications croissantes}


\begin{definition}
Soient $(E,\leq_E)$ et $(F,\leq_F)$ des ensembles ordonnés, et $f : E\to F$. On dit que $f$ est \emph{croissante} si :
\[ \forall x, y\in E, x\leq_E y \implies f(x) \leq_F f(y),\]
et \emph{décroissante} si :
\[\forall x, y\in E, x\leq_E y \implies f(y) \leq_F f(x).\]
\end{definition}

(Remarque : dans cette situation, il est important de distinguer les relations d'ordre sur $E$ et sur $F$.)

\begin{exemple}
\begin{enumerate}
\item L'application $f : \R\to \R, x\mapsto x+e^x$ est croissante pour l'ordre usuel $\leq $ sur $\R$.
\item Si $E$ est fini, l'application $f : \mathcal P(E) \to \N, \: A\mapsto \operatorname{Card}(A)$ est croissante entre les ensembles ordonnés $(\mathcal P(E), \subseteq)$ et $(\N, \leq)$.
\item L'application $f : \mathcal P(E) \to \mathcal P(E), \: A\mapsto A^c$ est décroissante pour l'inclusion, car $A\subseteq B \implies B^c\subseteq A^c$.
\end{enumerate}
\end{exemple}

Comme d'habitude, après les définitions viennent les propositions et théorèmes.

\begin{proposition}
\begin{enumerate}
\item La composée de deux applications croissantes est croissante.
\item La composée de deux applications décroissantes est décroissante.
\item La composée d'une application décroissante et d'une décroissante est décroissante.
\end{enumerate}
\end{proposition}

\begin{proof}
Application directe de la définition.
\end{proof}

\subsection{Plus grand et plus petit élément}
\begin{definition}
Soit $(E,\leq_E)$ un ensemble ordonné et $A\subseteq E$ une partie non vide.
\begin{enumerate}
\item Un élément $m\in E$ est un \emph{majorant} de $A$ si $\forall a\in A, a\leq_E m$.
\item La partie $A$ est \emph{majorée} si elle possède des majorants.
\item Un élément $m\in A$ qui est un majorant de $A$ est appelé un \emph{plus grand élément de $A$}, ou \emph{maximum} de $A$.
\item On définit de même les minorants, les parties minorées et les plus petits éléments.
\end{enumerate}
\end{definition}

\begin{exemple}
\begin{enumerate}[label=\alph*)]
\item Dans l'ensemble ordonné $(\R,\leq)$, la partie $[2,5]$ est majorée par $5$, mais aussi par $6$, $10$ etc. La partie $\R_+$ est minorée, mais pas majorée. La partie $\Z$ n'est ni minorée ni majorée.
\item Toute partie non vide de $\N$ admet un plus petit élément (c'est la propriété fondamentale de $\N$), mais pas forcément de plus grand élément.
\item Dans un ensemble ordonné non vide $(E,\leq_E)$, la partie vide est majorée: tout élément $m$ est un majorant, car l'assertion $\forall x\in \varnothing, x\leq_E m$ est vraie. De la même façon, dans un ensemble non-vide, la partie vide est minorée par n'importe quel élément.
\end{enumerate}
\end{exemple}



\begin{proposition}[Unicité du plus grand élément, s'il existe]
Si $A\subseteq E$ possède un plus grand élément, il est unique. On le note alors $\max(A)$.
De même, si $A\subseteq E$ possède un plus petit élément, il est unique. On le note alors $\min(A)$.
\end{proposition}
\begin{proof}
Soient $m$ et $m'$ deux plus grands éléments de $A$. Comme $m$ est un plus grand élément, on a par définition $\forall x\in A, x\leq_E m$ et donc en particulier $m'\leq_E m$. De même, comme $m'$ est un plus grand élément, on a $m\leq_E m'$. Par antisymétrie de la relation d'ordre, on a $m=m'$.

On prouve le résultat pour le plus petit élément de la même manière.
\end{proof}

\begin{exemples}
\begin{enumerate}[label=\alph*)]
\item  La partie $[0,1]$ est majorée dans $\R$ car $1$, $2$ ou encore $5$ sont des majorants. Elle possède un plus grand élément : $1$.
\item La partie $]3,+\infty[$ de $\R$ n'a pas de plus grand élément car elle n'est pas majorée.
\item La partie $A=[0,1[$ de $\R$ est majorée. Par contre, elle n'a pas de plus grand élément. 
\item La partie $B=\{x\in \Q\:\mid\: x^2\leq 2\}$ est majorée (par $\sqrt2$ par exemple), mais n'admet pas de plus grand élément (rappel : $\sqrt 2 \not\in\Q$).
\item Si $E$ est un ensemble, alors $\mathcal P(E)$ muni de l'inclusion possède un plus grand élément : $E$, et un plus petit élément : $\varnothing$.
\end{enumerate}
\end{exemples}

\subsection{Borne supérieure, borne inférieure}

\begin{definition}[Borne supérieure]
 La partie $A\subseteq E$ admet une borne supérieure $s\in E$ ssi:
\begin{enumerate}
\item $s$ est un majorant de $A$;
\item tout majorant de $A$ majore $s$.
\end{enumerate}
(En d'autres termes, $s$ est le plus petit des majorants de $A$, ou encore : l'ensemble de tous les majorants de $A$ possède un plus petit élément $s$.)
\end{definition}

Attention, contrairement à un plus grand élément, une  borne supérieure de $A$, s'il en existe, n'appartient pas forcément à $A$. 

\begin{proposition}[Unicité de la borne sup, s'il en  existe une]
Soit $(E,\leq_E)$ un ensemble ordonné, et $A\subseteq E$. Si $A$ possède une borne supérieure, elle est unique et on la note $\sup(A)$.
\end{proposition}
\begin{proof}
Soient $s$ et $s'$ deux bornes supérieures de $A$. Comme $s$ est une borne supérieure et $s'$ un majorant, on a $s\leq_E s'$. Un raisonnement symétrique montre que  $s'\leq_E s$, et finalement $s'=s$.
\end{proof}

\begin{exemple}
La partie $\R_+ \subseteq \R$ n'a pas de borne supérieure. 
La partie $A=[0,1[ \subseteq \R$ n'a pas de plus grand élément, mais possède une borne supérieure : $1$.
\end{exemple}
\begin{proof} Pour le premier point, la partie n'a même pas de majorant donc c'est clair. 
D'une part, il est clair que $1$ est un majorant de $[0,1[$, c'est-à-dire que $\forall x\in [0,1[, \: x\leq 1$.

Vérifions la seconde partie de la définition.  Soit $m$ un majorant de $[0,1[$ et supposons par l'absurde que $m < 1$. On doit forcément avoir $0\leq m$ puisque $0\in [0,1[$. Donc $m+\frac{1-m}{2}=1+\frac{m}{2} \in [0,1[$.
\begin{center}
\begin{tikzpicture}[line cap=round,line join=round,>=triangle 45,x=1.0cm,y=1.0cm]
\clip(-0.5,-1.5) rectangle (10.5,1);
\draw (0,0)-- (10,0);
\begin{scriptsize}
\draw[color=black] (0.0,-0.5) node {$0$};
\draw [fill=black] (6,0) circle (2pt);
\draw[color=black] (6.0,-0.5) node {$m$};
\draw [fill=black] (8,0) circle (2pt);
\draw[color=black] (8.0,-0.5) node {$m+\frac{1-m}{2}$};
\draw[color=black] (10.0,-0.5) node {$1$};
\end{scriptsize}
\end{tikzpicture}
\end{center}

 Comme $m$ est un majorant, on doit avoir $1+\frac{m}{2}\leq m$, donc $1+m\leq 2m$ donc $m\geq 1$, absurde.
\end{proof}

Autre exemple important de borne supérieure qui n'est pas un plus grand élément: la partie $\{x\in \Q, x^2<2\}$ de $\R$ est majorée et admet une borne supérieure égale à $\sqrt 2$ et qui n'appartient pas à $A$ car $\sqrt2\not\in \Q$. 

\begin{proposition}
Soit $(E,\leq_E)$ un ensemble ordonné $A\subseteq E$.
Si $A$ admet une borne supérieure et que $\sup(A) \in A$, alors c'est son plus grand élément.
Si $A$ admet un plus grand élément, c'est aussi sa borne supérieure.
\end{proposition}
\begin{proof}
Exercice, appliquer les définitions.
\end{proof}

Enfin, on définit de même ce qu'est une \emph{borne inférieure}, et on montre que si une partie admet une borne inférieure, alors celle-ci est unique. On la note $\inf(A)$. 

La borne inférieure d'une partie, même si elle existe, n'appartient pas forcément à la partie. Par exemple, $0$ est la borne inférieure de $]0,1]$.

\begin{theoreme}[$\R$ possède la propriété de la borne supérieure]
Dans $(\R,\leq)$, toute partie non vide et majorée admet une borne supérieure.
\end{theoreme}
\begin{proof}
Admis provisoirement. Pour prouver ce théorème, il faut disposer d'une définition rigoureuse de l'ensemble $\R$. Voir le cours d'analyse de second semestre.
\end{proof}

Il existe des ensembles ordonnés ne possédant pas la propriété de la borne supérieure, c'est-à-dire possédant des parties non-vides, majorées, et sans borne supérieure. C'est le cas de $(\Q,\leq)$, si l'on considère la partie $\{x\in \Q\:\mid\: x^2\leq 2\}$ : il n'existe pas de borne supérieure \underline{dans $\Q$}.


\subsection{Ordre produit et ordre lexicographique}

\begin{propdef}
Soient $(E\leq_E)$ et $(F,\leq_F)$ des ensembles ordonnés.
L'ordre produit sur $E\times F$ est défini par :
\[
(x,y) \leq_{E\times F} (x',y') \iff \left(x\leq_E x' \text{ et } y\leq_F y'\right).
\]
\end{propdef}
\begin{proof}
Il s'agit de prouver que la relation binaire définie est bien une relation d'ordre donc réflexive, antisymétrique et transitive. Exercice.
\end{proof}

Attention, même si $\leq_E$ et $\leq_F$ sont totales, l'ordre produit n'est pas forcément un ordre total. Par exemple, pour $E=F=\R$ et l'ordre usuel sur $\R$ qui est bien total, on remarque que l'ordre produit $\leq_{\R\times\R}$ sur $\R\times \R$ n'est pas total car $(1,2)$ et $(2,1)$ ne sont pas comparables.

\begin{propdef}
Soient $(E\leq_E)$ et $F,\leq_F)$ des ensembles \textbf{totalement} ordonnés.
L'ordre lexicographique sur $E\times F$ est défini par :
\[
(x,y) \leq_{E\times F} (x',y') \iff \left(x<_E x' \text{ ou } (x=x' \text{ et } y\leq_F y')\right).
\]
C'est un ordre total.
\end{propdef}
\begin{proof}
La propriété de relation d'ordre est laissée en exercice. Prouvons que l'ordre est total.

Soient en effet $(x,y)$ et $(x',y')$ distincts.
Si $x\neq x'$, alors comme $\leq_E$ est un ordre total, on a forcément $x<_E x'$ ou bien $x'<_E x$.
Si $x=x'$, alors on a forcément $y\neq y'$ et comme $\leq_F$ est un ordre total, on a forcément $y <_F y'$ ou bien $y'<_F y$.

En conclusion, on a bien soit $(x,y) \leq_{E\times F} (x',y')$, soit  $(x',y') \leq_{E\times F} (x,y)$.
\end{proof}

\begin{exemple}Avec l'ordre usuel sur l'alphabet, l'ordre lexicographique sur les mots est l'ordre dans lequel les mots sont classés dans un dictionnaire.
\end{exemple}



\section{Relations d'équivalence}

\subsection{Définitions}

\begin{definition}[Relation d'équivalence]
Une relation binaire ${\mathcal R}$ sur un ensemble $E$ est une \emph{relation d'équivalence} ssi elle est:
\begin{enumerate}
\item réflexive (rappel : $\forall x\in E, x{\mathcal R}x$);
\item transitive (rappel : $forallx, y, z\in E, x{\mathcal R}y\text{ et } y{\mathcal R}z \implies x{\mathcal R}z$);
\item symétrique : $\forall x, y\in E, x{\mathcal R}y \implies yRx$.
\end{enumerate}
\end{definition}

\begin{exemples}
\begin{enumerate}[label=\alph*)]
\item Les relations $=$, $//$ (parallélisme), et toutes les congruences modulo un élément fixé dont des relations d'équivalence.
\item La relation $\perp$ (perpendiculaire) n'est \textbf{pas} une relation d'équivalence car elle n'est pas réflexive, ni transitive.
\item Sur $\R$, la relation $x\mathcal R y \iff \left(x=y\text{ ou }x=-y\right)$ est une relation d'équivalence.
\item Sur $\R$, la relation $x\mathcal R y \iff \sin(x)=\sin(y)$ est une relation d'équivalence.
\item Sur $\C$, la relation $z\mathcal R z' \iff |z|=|z'|$ est une relation d'équivalence.
\item De façon plus générale, si $f : E\to F$ est une application, alors la relation $x\mathcal R y \iff f(x)=f(y)$ est une relation d'équivalence sur $E$.
(En fait, \emph{toutes} les relations d'équivalence sont de ce type, pour un choix adéquat de $F$ et de $f$.)
\end{enumerate}
\end{exemples}



\subsection{Classes d'équivalence}
\begin{definition}
Soit $E$ un ensemble muni d'une relation d'équivalence ${\mathcal R}$. Soit $x\in E$. On note $\overline{x}$ et on appelle la \emph{classe d'équivalence} de $x$ l'ensemble $\left\{y\in E\:\mid\: y{\mathcal R}x\right\}$ des éléments qui sont équivalents à $x$.
\end{definition}

Attention au type des objets : $x \in E$, mais $\overline{x} \subseteq E$.

\begin{proposition}
\begin{enumerate}
\item $\forall x\in E, x\in \overline{x}$.
\item $\forall x, y\in E, x{\mathcal R}y \iff \overline{x}=\overline{y}$.
\item $\forall x, y\in E, \overline{x} = \overline{y} \text{ ou } \overline{x}\cap \overline{y}=\varnothing$.
\end{enumerate}
\end{proposition}
\begin{proof}
\begin{enumerate}
\item Découle de la réflexivité.
\item Sens $\impliedby$ : Supposons $\overline{x}=\overline{y}$. Comme $y\in \overline{y}$, on a $y\in \overline{x}$, donc $y{\mathcal R}x$.\\
Sens $\implies$ : Soit $z\in \overline{x}$. Alors $z{\mathcal R}x$ et comme $x{\mathcal R}y$, on a $z{\mathcal R}y$ par transitivité, et donc $z\in \overline{y}$. Ceci montre $\overline{x}\subseteq \overline{y}$. Pour montrer l'inclusion réciproque, on a $y{\mathcal R}x$ par symétrie de $R$ puis on termine de la même manière.
\item Soient $x$ et $y$, et supposons $\overline{x}\cap \overline{y} \neq \varnothing$. Soit $z\in \overline{x}\cap \overline{y}$. Alors $z\mathcal R x$ et $z\mathcal R y$, donc par symétrie et transitivité, $x\mathcal R y$, d'où $\overline{x}=\overline{y}$. On en déduit que deux classes sont soit égales soit disjointes.
\end{enumerate}
\end{proof}

\begin{definition}
Soit $E$ un ensemble muni d'une relation d'équivalence ${\mathcal R}$.
L'ensemble des classes d'équivalence est appelé \emph{ensemble quotient de $E$ par $R$} et est noté $E/{\mathcal R}$.

L'application $p : E \to E/\mathcal R, x\mapsto \overline{x}$ qui à un élément de $E$ lui associe sa classe d'équivalence est appelée \emph{application de passage au quotient}, ou \emph{projection canonique sur le quotient}.
\end{definition}

\begin{exemple}Pour l'ensemble $E$ des droites du plan muni de la relation d'équivalence $//$, les classes d'équivalence sont appelées \emph{directions} : deux droites sont parallèles si et seulement si elles ont la même \emph{direction}. L'ensemble quotient de $E$ par la relation de parallélisme est l'ensemble des directions du plan.
\end{exemple}

\subsection{Partition en classes d'équivalence}

\begin{definition}[Partition d'un ensemble]
Soit $E$ un ensemble, et soit $(A_i)_{i\in I}$ ue famille de parties de $E$. On dit que c'est une \emph{partition de $E$} si :
\begin{enumerate}
\item Les $A_i$ sont toutes non vides.
\item On a $\bigcup_{i\in I} A_i = E$.
\item Les parties $A_i$ sont deux-à-deux disjointes : $\forall i, j\in I, i\neq j \implies A_i\cap A_j=\varnothing$.
\end{enumerate}
\end{definition}

Exemple : $E = \Z$, $A_1 $ est l'ensemble des entiers pairs non nuls, $A_2=\{0\}$, et $A_3$ est l'ensemble des entiers impairs.

\begin{proposition}
Soit $\mathcal R$ une relation d'équivalence sur $E$. Alors $E/\mathcal R$ est une partition de $E$.
\end{proposition}
\begin{proof}
\begin{enumerate}
\item Une classe d'équivalence n'est jamais vide, puisque qu'elle est toujours de la forme $\overline{x}$ et donc contient un élément $x$.
\item Soit $a\in E$. On a $\overline{a} \in E/\mathcal R$, et $a\in \overline{a}$. Donc $a\in \bigcup_{A\in E/\mathcal R} A$. On en déduit que $E\subseteq \bigcup_{A\in E/\mathcal R} A$.
\item On a déjà montré que deux classes d'équivalence sont soit égales soit disjointes.
\end{enumerate}
\end{proof}

